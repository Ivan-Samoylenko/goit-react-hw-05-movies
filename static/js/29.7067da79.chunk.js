"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[29],{557:function(n,e,t){t.d(e,{t:function(){return l}});var r,a,i,u,o=t(168),c=t(444),s=c.ZP.div(r||(r=(0,o.Z)(["\n  padding-top: ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: ",";\n\n  "," {\n    padding-top: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.mediaQueries.tablet}),(function(n){return n.theme.space[4]})),p=c.ZP.button(a||(a=(0,o.Z)(["\n  min-width: 40px;\n  height: 40px;\n  border: ",";\n  padding: "," ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 20px;\n\n  background-color: ",";\n\n  border-radius: ",";\n  box-shadow: ",";\n\n  transition: box-shadow ",";\n\n  :hover,\n  :focus-visible {\n    box-shadow: ",";\n  }\n\n  :active {\n    box-shadow: ",";\n  }\n"])),(function(n){return n.theme.borders.transparent}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.isCurrent?n.theme.colors.bcg.pagination.current:n.theme.colors.bcg.pagination.main}),(function(n){return n.theme.radii.btn}),(function(n){return n.theme.shadows.pagination.main}),(function(n){return n.theme.transition}),(function(n){return n.theme.shadows.pagination.hover}),(function(n){return n.theme.shadows.pagination.active})),f=c.ZP.ul(i||(i=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  gap: ",";\n"])),(function(n){return n.theme.space[3]})),h=c.ZP.li(u||(u=(0,o.Z)(["\n  display: flex;\n  align-items: end;\n  gap: ",";\n\n  font-size: 24px;\n"])),(function(n){return n.theme.space[3]})),d=t(184);function l(n){var e=n.pages,t=n.currentPage,r=n.changePage;if(e<2)return null;var a=Array(e).fill(1).map((function(n,e){return e+1})).filter((function(n){return n<2||n===e||n>=t-2&&n<=t+2}));function i(n){r(n.target.textContent)}return(0,d.jsxs)(s,{children:[1!==t&&(0,d.jsx)(p,{type:"button",onClick:function(){r(t-1)},children:"\u2190"}),(0,d.jsx)(f,{children:a.map((function(n){return(0,d.jsxs)(h,{children:[n===e&&t+2<e-1&&(0,d.jsx)("p",{children:"..."}),(0,d.jsx)(p,{type:"button",isCurrent:n===t,onClick:i,children:n}),n<2&&t-2>2&&(0,d.jsx)("p",{children:"..."})]},n)}))}),t!==e&&(0,d.jsx)(p,{type:"button",onClick:function(){r(t+1)},children:"\u2192"})]})}},985:function(n,e,t){t.d(e,{j:function(){return j}});var r,a,i,u,o,c,s,p=t(168),f=t(444),h=f.ZP.ul(r||(r=(0,p.Z)(["\n  padding-right: ",";\n  padding-left: ",";\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  gap: ",";\n\n  "," {\n    padding-right: ",";\n    padding-left: ",";\n\n    gap: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.mediaQueries.tablet}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),d=f.ZP.li(a||(a=(0,p.Z)(["\n  width: 100%;\n\n  background-color: ",";\n\n  "," {\n    width: calc((100% - ("," * 1)) / 2);\n  }\n\n  "," {\n    width: calc((100% - ("," * 2)) / 3);\n  }\n\n  "," {\n    width: calc((100% - ("," * 3)) / 4);\n  }\n"])),(function(n){return n.theme.colors.bcg.bar}),(function(n){return n.theme.mediaQueries.mobile}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.mediaQueries.tablet}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.mediaQueries.desktop}),(function(n){return n.theme.space[4]})),l=t(689),m=t(731),g=(0,f.ZP)(m.rU)(i||(i=(0,p.Z)(["\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  color: ",";\n  background-color: ",";\n\n  text-decoration: none;\n  outline: none;\n\n  box-shadow: ",";\n  transform: scale(1);\n\n  transition: box-shadow ",",\n    transform ",";\n\n  :hover,\n  :focus-visible {\n    transform: scale(1.01);\n    box-shadow: ",";\n  }\n"])),(function(n){return n.theme.colors.text.poster}),(function(n){return n.theme.colors.bcg.posterInfo}),(function(n){return n.theme.shadows.poster.main}),(function(n){return n.theme.transition}),(function(n){return n.theme.transition}),(function(n){return n.theme.shadows.poster.hover})),x=f.ZP.img(u||(u=(0,p.Z)(["\n  object-fit: cover;\n  flex-grow: 1;\n\n  background-color: ",";\n"])),(function(n){return n.theme.colors.bcg.bar})),b=f.ZP.div(o||(o=(0,p.Z)(["\n  padding: ",";\n"])),(function(n){return n.theme.space[2]})),v=f.ZP.p(c||(c=(0,p.Z)(["\n  margin-bottom: ",";\n\n  font-weight: 700;\n"])),(function(n){return n.theme.space[2]})),w=f.ZP.p(s||(s=(0,p.Z)(["\n  font-style: italic;\n"]))),y=t(292),Z=t(184);function k(n){var e=n.id,t=n.img,r=n.title,a=n.genres,i=(0,l.TH)();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(g,{to:"/movies/".concat(e),state:{from:i},children:[(0,Z.jsx)(x,{src:t?"https://image.tmdb.org/t/p/w500".concat(t):y,alt:r}),(0,Z.jsxs)(b,{children:[(0,Z.jsx)(v,{children:r}),a&&(0,Z.jsx)(w,{children:a})]})]})})}function j(n){var e=n.movies,t=n.genres;return(0,Z.jsx)(h,{children:e.map((function(n){var e=null;return n.genre_ids.length>0&&t&&(e=t.reduce((function(e,t){return n.genre_ids.includes(t.id)?""===e?t.name:"".concat(e,", ").concat(t.name):e}),"")),(0,Z.jsx)(d,{children:(0,Z.jsx)(k,{id:n.id,img:n.poster_path,title:n.title,genres:e})},n.id)}))})}},903:function(n,e,t){t.d(e,{$:function(){return o}});var r,a=t(168),i=t(444).ZP.section(r||(r=(0,a.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n\n  "," {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.mediaQueries.tablet}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),u=t(184);function o(n){var e=n.children;return(0,u.jsx)(i,{children:e})}},29:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r,a,i,u=t(861),o=t(885),c=t(757),s=t.n(c),p=t(791),f=t(731),h=t(923),d=t(596),l=t(903),m=t(168),g=t(444),x=g.ZP.form(r||(r=(0,m.Z)(["\n  max-width: 480px;\n  margin-right: auto;\n  margin-bottom: ",";\n  margin-left: auto;\n\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n"])),(function(n){return n.theme.space[4]})),b=g.ZP.input(a||(a=(0,m.Z)(["\n  padding: "," ",";\n\n  flex-grow: 1;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]})),v=g.ZP.button(i||(i=(0,m.Z)(["\n  width: 40px;\n  height: 27px;\n  padding: 0;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),w=t(768),y=t(184);function Z(n){var e=n.onSubmit;return(0,y.jsxs)(x,{onSubmit:function(n){n.preventDefault();var t=n.target,r=t.elements.query.value.trim();r?(e(r),t.reset()):d.Am.info("Type something before search.")},children:[(0,y.jsx)(b,{type:"text",name:"query",placeholder:"Search"}),(0,y.jsx)(v,{type:"submit",children:(0,y.jsx)(w.eaK,{size:"20"})})]})}var k=t(985),j=t(557);function P(){var n=(0,p.useState)(null),e=(0,o.Z)(n,2),t=e[0],r=e[1],a=(0,p.useState)([]),i=(0,o.Z)(a,2),c=i[0],m=i[1],g=(0,p.useState)(0),x=(0,o.Z)(g,2),b=x[0],v=x[1],w=(0,f.lr)(),P=(0,o.Z)(w,2),_=P[0],q=P[1],A=_.get("query"),C=Number(_.get("page"));return(0,p.useEffect)((function(){!function(){var n=(0,u.Z)(s().mark((function n(){var e,t,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.JZ)();case 3:if(e=n.sent,t=e.status,a=e.data.genres,200===t){n.next=8;break}throw new Error("Failed to load genres.");case 8:r(a),n.next=17;break;case 11:if(n.prev=11,n.t0=n.catch(0),!n.t0.response.data.status_message){n.next=16;break}return d.Am.warn(n.t0.response.data.status_message),n.abrupt("return");case 16:d.Am.warn(n.t0.message);case 17:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}()()}),[]),(0,p.useEffect)((function(){A&&function(){var n=(0,u.Z)(s().mark((function n(){var e,t,r,a,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m([]),n.prev=1,n.next=4,(0,h.qF)(A,C);case 4:if(e=n.sent,t=e.status,r=e.data,a=r.results,i=r.total_pages,200===t){n.next=11;break}throw new Error("Failed to load query, try reloading the page.");case 11:if(!(i<C&&0!==i)){n.next=15;break}return d.Am.warn('This page does not exist: "'.concat(C,'". You will be redirected to the first page.')),q({query:A,page:1}),n.abrupt("return");case 15:a.length<1&&d.Am.warn('Nothing found for this query: "'.concat(A,'"')),m(a),v(i),n.next=26;break;case 20:if(n.prev=20,n.t0=n.catch(1),!n.t0.response.data.status_message){n.next=25;break}return d.Am.error(n.t0.response.data.status_message),n.abrupt("return");case 25:d.Am.error(n.t0.message);case 26:case"end":return n.stop()}}),n,null,[[1,20]])})));return function(){return n.apply(this,arguments)}}()()}),[A,C,q]),(0,y.jsxs)(l.$,{children:[(0,y.jsx)(Z,{onSubmit:function(n){q({query:n,page:1})}}),(0,y.jsx)(k.j,{movies:c,genres:t,children:"Home"}),(0,y.jsx)(j.t,{pages:b,currentPage:C,changePage:function(n){q({query:A,page:n})}})]})}},923:function(n,e,t){t.d(e,{JZ:function(){return c},M1:function(){return g},TP:function(){return l},tx:function(){return b},yM:function(){return p},qF:function(){return h}});var r=t(861),a=t(757),i=t.n(a),u=t(44),o="6c0ec3a2b4afdab003374b17f43d4a73";function c(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.get("/genre/movie/list",{params:{api_key:o}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(i().mark((function n(){var e,t=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:1,n.next=3,u.ZP.get("trending/movie/day",{params:{api_key:o,page:e}});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function h(n){return d.apply(this,arguments)}function d(){return d=(0,r.Z)(i().mark((function n(e){var t,r=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:1,n.next=3,u.ZP.get("/search/movie",{params:{api_key:o,query:e,page:t}});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function l(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.get("/movie/".concat(e),{params:{api_key:o}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.get("/movie/".concat(e,"/credits"),{params:{api_key:o}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.get("/movie/".concat(e,"/reviews"),{params:{api_key:o}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}u.ZP.defaults.baseURL="https://api.themoviedb.org/3/"},292:function(n,e,t){n.exports=t.p+"static/media/image-not-found.084a7d7d1a98dd2491ce.jpg"}}]);
//# sourceMappingURL=29.7067da79.chunk.js.map