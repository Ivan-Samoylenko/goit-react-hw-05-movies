{"version":3,"file":"static/js/29.75f6d4d8.chunk.js","mappings":"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","sources":["components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx","components/Posters/Posters.styled.js","components/Poster/Poster.styled.js","components/Poster/Poster.jsx","components/Posters/Posters.jsx","components/Section/Section.styled.js","components/Section/Section.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","services/moviesAPI.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wraper = styled.div`\n  padding-top: ${p => p.theme.space[3]};\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: ${p => p.theme.space[3]};\n\n  ${p => p.theme.mediaQueries.tablet} {\n    padding-top: ${p => p.theme.space[4]};\n  }\n`;\n\nexport const Btn = styled.button`\n  min-width: 40px;\n  height: 40px;\n  border: ${p => p.theme.borders.transparent};\n  padding: ${p => p.theme.space[2]} ${p => p.theme.space[3]};\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 20px;\n\n  background-color: ${p =>\n    p.isCurrent\n      ? p.theme.colors.bcg.pagination.current\n      : p.theme.colors.bcg.pagination.main};\n\n  border-radius: ${p => p.theme.radii.btn};\n  box-shadow: ${p => p.theme.shadows.pagination.main};\n\n  transition: box-shadow ${p => p.theme.transition};\n\n  :hover,\n  :focus-visible {\n    box-shadow: ${p => p.theme.shadows.pagination.hover};\n  }\n\n  :active {\n    box-shadow: ${p => p.theme.shadows.pagination.active};\n  }\n`;\n\nexport const PagList = styled.ul`\n  display: flex;\n  align-items: center;\n  gap: ${p => p.theme.space[3]};\n`;\n\nexport const PagListItem = styled.li`\n  display: flex;\n  align-items: end;\n  gap: ${p => p.theme.space[3]};\n\n  font-size: 24px;\n`;\n","import { Wraper, Btn, PagList, PagListItem } from './Pagination.styled';\n\nexport function Pagination({ pages, currentPage, changePage }) {\n  if (pages < 2) return null;\n\n  const numbersOfPages = Array(pages)\n    .fill(1)\n    .map((_, index) => index + 1);\n\n  const paginationPages = numbersOfPages.filter(\n    page =>\n      page < 2 ||\n      page === pages ||\n      (page >= currentPage - 2 && page <= currentPage + 2)\n  );\n\n  function onLeft() {\n    changePage(currentPage - 1);\n  }\n\n  function onRight() {\n    changePage(currentPage + 1);\n  }\n\n  function onPagination(event) {\n    changePage(event.target.textContent);\n  }\n\n  return (\n    <Wraper>\n      {currentPage !== 1 && (\n        <Btn type=\"button\" onClick={onLeft}>\n          ←\n        </Btn>\n      )}\n\n      <PagList>\n        {paginationPages.map(page => (\n          <PagListItem key={page}>\n            {page === pages && currentPage + 2 < pages - 1 && <p>...</p>}\n            <Btn\n              type=\"button\"\n              isCurrent={page === currentPage}\n              onClick={onPagination}\n            >\n              {page}\n            </Btn>\n            {page < 2 && currentPage - 2 > 2 && <p>...</p>}\n          </PagListItem>\n        ))}\n      </PagList>\n\n      {currentPage !== pages && (\n        <Btn type=\"button\" onClick={onRight}>\n          →\n        </Btn>\n      )}\n    </Wraper>\n  );\n}\n","import styled from 'styled-components';\n\nexport const PostersList = styled.ul`\n  padding-right: ${p => p.theme.space[3]};\n  padding-left: ${p => p.theme.space[3]};\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  gap: ${p => p.theme.space[3]};\n\n  ${p => p.theme.mediaQueries.tablet} {\n    padding-right: ${p => p.theme.space[4]};\n    padding-left: ${p => p.theme.space[4]};\n\n    gap: ${p => p.theme.space[4]};\n  }\n`;\n\nexport const PostersListItem = styled.li`\n  width: 100%;\n\n  background-color: ${p => p.theme.colors.bcg.bar};\n\n  ${p => p.theme.mediaQueries.mobile} {\n    width: calc((100% - (${p => p.theme.space[3]} * 1)) / 2);\n  }\n\n  ${p => p.theme.mediaQueries.tablet} {\n    width: calc((100% - (${p => p.theme.space[4]} * 2)) / 3);\n  }\n\n  ${p => p.theme.mediaQueries.desktop} {\n    width: calc((100% - (${p => p.theme.space[4]} * 3)) / 4);\n  }\n`;\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const PosterLink = styled(Link)`\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  color: ${p => p.theme.colors.text.poster};\n  background-color: ${p => p.theme.colors.bcg.posterInfo};\n\n  text-decoration: none;\n  outline: none;\n\n  box-shadow: ${p => p.theme.shadows.poster.main};\n  transform: scale(1);\n\n  transition: box-shadow ${p => p.theme.transition},\n    transform ${p => p.theme.transition};\n\n  :hover,\n  :focus-visible {\n    transform: scale(1.01);\n    box-shadow: ${p => p.theme.shadows.poster.hover};\n  }\n`;\n\nexport const PosterImage = styled.img`\n  object-fit: cover;\n  flex-grow: 1;\n\n  background-color: ${p => p.theme.colors.bcg.bar};\n`;\n\nexport const PosterInfo = styled.div`\n  padding: ${p => p.theme.space[2]};\n`;\n\nexport const PosterTitle = styled.p`\n  margin-bottom: ${p => p.theme.space[2]};\n\n  font-weight: 700;\n`;\n\nexport const PosterGanres = styled.p`\n  font-style: italic;\n`;\n","import { useLocation } from 'react-router-dom';\nimport {\n  PosterLink,\n  PosterImage,\n  PosterInfo,\n  PosterTitle,\n  PosterGanres,\n} from './Poster.styled';\nimport imageNotFound from '../../images/image-not-found.jpg';\n\nexport function Poster({ id, img, title, genres }) {\n  const location = useLocation();\n\n  return (\n    <>\n      <PosterLink to={`/movies/${id}`} state={{ from: location }}>\n        <PosterImage\n          src={img ? `https://image.tmdb.org/t/p/w500${img}` : imageNotFound}\n          alt={title}\n        />\n        <PosterInfo>\n          <PosterTitle>{title}</PosterTitle>\n          {genres && <PosterGanres>{genres}</PosterGanres>}\n        </PosterInfo>\n      </PosterLink>\n    </>\n  );\n}\n","import { PostersList, PostersListItem } from './Posters.styled';\nimport { Poster } from 'components/Poster';\n\nexport function Posters({ movies, genres }) {\n  return (\n    <PostersList>\n      {movies.map(movie => {\n        let genresText = null;\n\n        if (movie.genre_ids.length > 0 && genres) {\n          genresText = genres.reduce((acc, genre) => {\n            if (movie.genre_ids.includes(genre.id)) {\n              if (acc === '') {\n                return genre.name;\n              } else {\n                return `${acc}, ${genre.name}`;\n              }\n            }\n\n            return acc;\n          }, '');\n        }\n\n        return (\n          <PostersListItem key={movie.id}>\n            <Poster\n              id={movie.id}\n              img={movie.poster_path}\n              title={movie.title}\n              genres={genresText}\n            />\n          </PostersListItem>\n        );\n      })}\n    </PostersList>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Wraper = styled.section`\n  padding-top: ${p => p.theme.space[3]};\n  padding-bottom: ${p => p.theme.space[3]};\n\n  ${p => p.theme.mediaQueries.tablet} {\n    padding-top: ${p => p.theme.space[4]};\n    padding-bottom: ${p => p.theme.space[4]};\n  }\n`;\n","import { Wraper } from './Section.styled';\n\nexport function Section({ children }) {\n  return <Wraper>{children}</Wraper>;\n}\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  max-width: 480px;\n  margin-right: auto;\n  margin-bottom: ${p => p.theme.space[4]};\n  margin-left: auto;\n\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n`;\n\nexport const Field = styled.input`\n  padding: ${p => p.theme.space[2]} ${p => p.theme.space[3]};\n\n  flex-grow: 1;\n`;\n\nexport const SearchBtn = styled.button`\n  width: 40px;\n  height: 27px;\n  padding: 0;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import { Form, Field, SearchBtn } from './SearchForm.styled';\nimport { IoSearch } from 'react-icons/io5';\nimport { toast } from 'react-toastify';\n\nexport function SearchForm({ onSubmit }) {\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    const form = event.target;\n    const query = form.elements.query.value.trim();\n\n    if (!query) {\n      toast.info('Type something before search.');\n      return;\n    }\n\n    onSubmit(query);\n    form.reset();\n  }\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Field type=\"text\" name=\"query\" placeholder=\"Search\" />\n      <SearchBtn type=\"submit\">\n        <IoSearch size=\"20\" />\n      </SearchBtn>\n    </Form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getGenres, searchMovie } from 'services';\nimport { toast } from 'react-toastify';\nimport { Section } from 'components/Section';\nimport { SearchForm } from 'components/SearchForm';\nimport { Posters } from 'components/Posters';\nimport { Pagination } from 'components/Pagination';\n\nexport default function Movies() {\n  const [genres, setGenres] = useState(null);\n  const [movies, setMovies] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const page = Number(searchParams.get('page'));\n\n  useEffect(() => {\n    (async function fetchGenres() {\n      try {\n        const {\n          status,\n          data: { genres },\n        } = await getGenres();\n\n        if (status !== 200) {\n          throw new Error('Failed to load genres.');\n        }\n\n        setGenres(genres);\n      } catch (error) {\n        if (error.response.data.status_message) {\n          toast.warn(error.response.data.status_message);\n          return;\n        }\n\n        toast.warn(error.message);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    (async function getTrending() {\n      setMovies([]);\n\n      try {\n        const {\n          status,\n          data: { results, total_pages },\n        } = await searchMovie(query, page);\n\n        if (status !== 200) {\n          throw new Error('Failed to load query, try reloading the page.');\n        }\n\n        if (total_pages < page && total_pages !== 0) {\n          toast.warn(\n            `This page does not exist: \"${page}\". You will be redirected to the first page.`\n          );\n          setSearchParams({ query, page: 1 });\n          return;\n        }\n\n        if (results.length < 1) {\n          toast.warn(`Nothing found for this query: \"${query}\"`);\n        }\n\n        setMovies(results);\n        setTotalPages(total_pages);\n      } catch (error) {\n        if (error.response.data.status_message) {\n          toast.error(error.response.data.status_message);\n          return;\n        }\n\n        toast.error(error.message);\n      }\n    })();\n  }, [query, page, setSearchParams]);\n\n  function onSubmit(value) {\n    setSearchParams({ query: value, page: 1 });\n  }\n\n  function changePage(value) {\n    setSearchParams({ query, page: value });\n  }\n\n  return (\n    <Section>\n      <SearchForm onSubmit={onSubmit} />\n      <Posters movies={movies} genres={genres}>\n        Home\n      </Posters>\n      <Pagination\n        pages={totalPages}\n        currentPage={page}\n        changePage={changePage}\n      />\n    </Section>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '6c0ec3a2b4afdab003374b17f43d4a73';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport async function getGenres() {\n  return await axios.get('/genre/movie/list', {\n    params: { api_key: API_KEY },\n  });\n}\n\nexport async function getTrendingByDay(page = 1) {\n  return await axios.get('trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n      page,\n    },\n  });\n}\n\nexport async function searchMovie(query, page = 1) {\n  return await axios.get('/search/movie', {\n    params: {\n      api_key: API_KEY,\n      query,\n      page,\n    },\n  });\n}\n\nexport async function getMovieDetails(movie_id) {\n  return await axios.get(`/movie/${movie_id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n}\n\nexport async function getMovieCast(movie_id) {\n  return await axios.get(`/movie/${movie_id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n}\n\nexport async function getMovieReviews(movie_id) {\n  return await axios.get(`/movie/${movie_id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n}\n"],"names":["Wraper","styled","p","theme","space","mediaQueries","tablet","Btn","borders","transparent","isCurrent","colors","bcg","pagination","current","main","radii","btn","shadows","transition","hover","active","PagList","PagListItem","Pagination","pages","currentPage","changePage","paginationPages","Array","fill","map","_","index","filter","page","onPagination","event","target","textContent","type","onClick","PostersList","PostersListItem","bar","mobile","desktop","PosterLink","Link","text","poster","posterInfo","PosterImage","PosterInfo","PosterTitle","PosterGanres","Poster","id","img","title","genres","location","useLocation","to","state","from","src","imageNotFound","alt","Posters","movies","movie","genresText","genre_ids","length","reduce","acc","genre","includes","name","poster_path","Section","children","Form","Field","SearchBtn","SearchForm","onSubmit","preventDefault","form","query","elements","value","trim","reset","toast","placeholder","size","Movies","useState","setGenres","setMovies","totalPages","setTotalPages","useSearchParams","searchParams","setSearchParams","get","Number","useEffect","getGenres","status","data","Error","response","status_message","message","searchMovie","results","total_pages","API_KEY","axios","params","api_key","getTrendingByDay","getMovieDetails","movie_id"],"sourceRoot":""}